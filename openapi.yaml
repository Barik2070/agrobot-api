openapi: 3.0.0
info:
  title: Farmer CRM API
  version: 1.0.1
  description: |
    –¢–∏ ‚Äî –®–Ü-–∞—Å–∏—Å—Ç–µ–Ω—Ç –∞–≥—Ä–æ–∫–æ–º–ø–∞–Ω—ñ—ó. –ú–∞—î—à –¥–æ—Å—Ç—É–ø –¥–æ –±–∞–∑–∏ –∫–ª—ñ—î–Ω—Ç—ñ–≤ —É Google –¢–∞–±–ª–∏—Ü—ñ —á–µ—Ä–µ–∑ API (FastAPI).

    üìå –ú–æ–∂–µ—à:
    - –ó–Ω–∞–π—Ç–∏ —Ñ–µ—Ä–º–µ—Ä–∞ –∑–∞ —ñ–º‚Äô—è–º (/find-farmer)
    - –ù–∞–¥–∞—Ç–∏ –∫–æ—Ä–æ—Ç–∫–µ –∑–≤–µ–¥–µ–Ω–Ω—è –ø–æ –æ–±–ª–∞—Å—Ç—è—Ö (/summary)
    - –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–æ–≥–æ —Ñ–µ—Ä–º–µ—Ä–∞ –¥–æ –±–∞–∑–∏ (/add-farmer)
    - –û–Ω–æ–≤–∏—Ç–∏ —ñ—Å–Ω—É—é—á–æ–≥–æ —Ñ–µ—Ä–º–µ—Ä–∞ (/update-farmer)
    - –ó–∞–ø—Ä–æ–ø–æ–Ω—É–≤–∞—Ç–∏ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –∫–æ–ª–æ–Ω–∫—É (/add-column)
    - –í–µ—Å—Ç–∏ –ª–æ–≥ –∑–º—ñ–Ω

    üì¶ –ë–∞–∑–∞ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —É Google Sheets –∑ –ª–∏—Å—Ç–æ–º "–ë–∞–∑–∞". –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ, –º–æ–∂–µ—à —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –∫–æ–ª–æ–Ω–∫—É –∞–±–æ –∞—Ä–∫—É—à "–õ–æ–≥".

    üéØ –ü—Ä–∏–∫–ª–∞–¥ –∑–∞–ø–∏—Ç—É:
    "–§–µ—Ä–º–µ—Ä –í–∞—Å–∏–ª—å —ñ–∑ –ß–µ—Ä–∫–∞—Å—å–∫–æ—ó –æ–±–ª–∞—Å—Ç—ñ –º–∞—î 2000 –≥–∞ –∫—É–∫—É—Ä—É–¥–∑–∏, —à—É–∫–∞—î MAP —É –≤–µ—Ä–µ—Å–Ω—ñ. –¢–µ–ª–µ—Ñ–æ–Ω: 0501112233."

    üîç –¢–≤–æ—è –¥—ñ—è:
    - –Ø–∫—â–æ —Ç–∞–∫–æ–≥–æ —Ñ–µ—Ä–º–µ—Ä–∞ –Ω–µ–º–∞—î ‚Äî –¥–æ–¥–∞–π
    - –Ø–∫—â–æ —î ‚Äî –æ–Ω–æ–≤–∏, –¥–æ–¥–∞–≤—à–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é
    - –Ø–∫—â–æ –Ω–µ–º–∞—î –∫–æ–ª–æ–Ω–∫–∏ "–ú—ñ—Å—è—Ü—å –ø–æ—Ç—Ä–µ–±–∏" ‚Äî –∑–∞–ø—Ä–æ–ø–æ–Ω—É–π —Å—Ç–≤–æ—Ä–∏—Ç–∏
    - –Ø–∫—â–æ —â–æ—Å—å –∑–º—ñ–Ω—é—î—à ‚Äî –∑–∞–ø–∏—à–∏ —É –ª–æ–≥

    üìé –£—Å—ñ API-–∑–∞–ø–∏—Ç–∏ –≤—ñ–¥–±—É–≤–∞—é—Ç—å—Å—è —á–µ—Ä–µ–∑ FastAPI, —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏–π –Ω–∞ Render.

servers:
  - url: https://agrobot-api-s8uz.onrender.com

paths:
  /find-farmer:
    get:
      summary: –ü–æ—à—É–∫ —Ñ–µ—Ä–º–µ—Ä–∞ –∑–∞ –Ω–∞–∑–≤–æ—é
      parameters:
        - name: name
          in: query
          required: true
          schema:
            type: string
      responses:
        '200':
          description: –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø–æ—à—É–∫—É

  /summary:
    get:
      summary: –ó–≤–µ–¥–µ–Ω–Ω—è –ø–æ —Ä–µ–≥—ñ–æ–Ω–∞—Ö
      responses:
        '200':
          description: –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ñ–µ—Ä–º–µ—Ä—ñ–≤ –ø–æ –æ–±–ª–∞—Å—Ç—è—Ö

  /add-farmer:
    post:
      summary: –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–æ–≥–æ —Ñ–µ—Ä–º–µ—Ä–∞
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Farmer'
      responses:
        '200':
          description: –§–µ—Ä–º–µ—Ä–∞ –¥–æ–¥–∞–Ω–æ
        '400':
          description: –§–µ—Ä–º–µ—Ä —É–∂–µ —ñ—Å–Ω—É—î

  /update-farmer:
    post:
      summary: –û–Ω–æ–≤–∏—Ç–∏ –¥–∞–Ω—ñ —Ñ–µ—Ä–º–µ—Ä–∞
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Farmer'
      responses:
        '200':
          description: –î–∞–Ω—ñ –æ–Ω–æ–≤–ª–µ–Ω–æ
        '404':
          description: –§–µ—Ä–º–µ—Ä–∞ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ

  /add-column:
    post:
      summary: –î–æ–¥–∞—Ç–∏ –Ω–æ–≤—É –∫–æ–ª–æ–Ω–∫—É
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                column_name:
                  type: string
      responses:
        '200':
          description: –ö–æ–ª–æ–Ω–∫—É –¥–æ–¥–∞–Ω–æ

components:
  schemas:
    Farmer:
      type: object
      properties:
        –ù–∞–∑–≤–∞:
          type: string
        –û–±–ª–∞—Å—Ç—å:
          type: string
        –ü–ª–æ—â–∞:
          type: integer
        –ö—É–ª—å—Ç—É—Ä–∞:
          type: string
        –¢–µ–ª–µ—Ñ–æ–Ω:
          type: string
        –ü–æ—Ç—Ä–µ–±–∞:
          type: string
        –ú—ñ—Å—è—Ü—å:
          type: string
        –ü—Ä–∏–º—ñ—Ç–∫–∞:
          type: string
      required:
        - –ù–∞–∑–≤–∞
